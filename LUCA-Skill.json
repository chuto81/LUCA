{
  "intents": [
    {
      "intent": "cancelar",
      "examples": [
        {
          "text": "cambie de opinion"
        },
        {
          "text": "cancelar"
        },
        {
          "text": "chao"
        },
        {
          "text": "no me interesa"
        },
        {
          "text": "olvidalo"
        },
        {
          "text": "parar"
        },
        {
          "text": "parar la busqueda"
        },
        {
          "text": "para todo"
        },
        {
          "text": "para ya"
        },
        {
          "text": "putas"
        },
        {
          "text": "quiero parar"
        },
        {
          "text": "salir"
        }
      ],
      "description": "Cancela y detiene cualquier proceso"
    },
    {
      "intent": "no",
      "examples": [
        {
          "text": "claro que no"
        },
        {
          "text": "de donde sacaste eso?"
        },
        {
          "text": "error"
        },
        {
          "text": "eso no"
        },
        {
          "text": "eso no era"
        },
        {
          "text": "esta mal"
        },
        {
          "text": "mal"
        },
        {
          "text": "negativo"
        },
        {
          "text": "no"
        },
        {
          "text": "no, gracias"
        },
        {
          "text": "no, no quiero"
        },
        {
          "text": "nopo"
        }
      ],
      "description": "Respuesta negativa"
    },
    {
      "intent": "si",
      "examples": [
        {
          "text": "correcto"
        },
        {
          "text": "eso"
        },
        {
          "text": "esta bien"
        },
        {
          "text": "ok"
        },
        {
          "text": "okay"
        },
        {
          "text": "perfecto"
        },
        {
          "text": "por favor"
        },
        {
          "text": "seguro"
        },
        {
          "text": "si"
        },
        {
          "text": "sipi"
        },
        {
          "text": "si, por favor"
        },
        {
          "text": "si quiero"
        }
      ],
      "description": "Respuesta afirmativa"
    },
    {
      "intent": "ubicacion",
      "examples": [
        {
          "text": "a donde me dirijo a comprar?"
        },
        {
          "text": "donde estan ubicados?"
        },
        {
          "text": "en cual ciudad estan?"
        },
        {
          "text": "tienen oficinas?"
        }
      ],
      "description": "Ubicación de la agencia de viajes"
    },
    {
      "intent": "viaje",
      "examples": [
        {
          "text": "5"
        },
        {
          "text": "cuanto @ciudad_destino @ciudad_origen?"
        },
        {
          "text": "cuanto @ciudad_origen @ciudad_destino?"
        },
        {
          "text": "cuanto cuesta?"
        },
        {
          "text": "cuanto cuesta @ciudad_origen @ciudad_destino?"
        },
        {
          "text": "cuanto cuesta @ciudad_origen @ciudad_destino para mañana?"
        },
        {
          "text": "cuanto cuesta viajar @ciudad_destino?"
        },
        {
          "text": "cuanto vale @ciudad_destino el @sys-date?"
        },
        {
          "text": "cuanto vale @ciudad_origen @ciudad_destino?"
        },
        {
          "text": "cuanto vale el viaje @ciudad_destino?"
        },
        {
          "text": "de @ciudad_origen a @ciudad_destino?"
        },
        {
          "text": "desde cartagena"
        },
        {
          "text": "precio @ciudad_destino viajando el @sys-date?"
        },
        {
          "text": "precio @ciudad_origen @ciudad_destino?"
        },
        {
          "text": "quiero salir el lunes y regresar viernes"
        },
        {
          "text": "quiero viajar"
        },
        {
          "text": "quiero viajar @ciudad_destino @ciudad_origen"
        },
        {
          "text": "quiero viajar @ciudad_origen @ciudad_destino"
        },
        {
          "text": "tienen pasajes @ciudad_origen-@ciudad_destino-@ciudad_origen?"
        }
      ],
      "description": "Define el origen, el destino y las fechas para viajar"
    }
  ],
  "entities": [
    {
      "entity": "ciudad_destino",
      "values": [
        {
          "type": "synonyms",
          "value": "bogota1",
          "synonyms": [
            "a bogota",
            "al dorado",
            "destino bogota",
            "hacia bogota",
            "hacia el dorado",
            "hasta bogota",
            "para bogota",
            "para el dorado"
          ]
        },
        {
          "type": "synonyms",
          "value": "cartagena1",
          "synonyms": [
            "a cartagena",
            "destino cartagena",
            "hacia cartagena",
            "hasta cartagena",
            "para cartagena"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_barranquilla",
          "synonyms": [
            "a barranquilla",
            "destino barranquilla",
            "hacia barranquilla",
            "hasta barranquilla",
            "para barranquilla"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_bucaramanga",
          "synonyms": [
            "a bucaramanga",
            "destino bucaramanga",
            "hacia bucaramanga",
            "hasta bucaramanga",
            "para bucaramanga"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_cali",
          "synonyms": [
            "a cali",
            "destino cali",
            "hacia cali",
            "hasta cali",
            "para cali"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_cucuta",
          "synonyms": [
            "a cucuta",
            "destino cucuta",
            "hacia cucuta",
            "hasta cucuta",
            "para cucuta"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_leticia",
          "synonyms": [
            "a leticia",
            "destino leticia",
            "hacia leticia",
            "hasta leticia",
            "para leticia"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_medellin",
          "synonyms": [
            "al jose maria cordova",
            "a medellin",
            "a rionegro",
            "destino jose maria cordova",
            "destino medellin",
            "hacia medellin",
            "hacia rionegro",
            "hasta jose maria cordova",
            "hasta medellin",
            "para jose maria cordova",
            "para medellin",
            "para rionegro"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_monteria",
          "synonyms": [
            "a monteria",
            "destino monteria",
            "hacia monteria",
            "hasta monteria",
            "para monteria"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_pereira",
          "synonyms": [
            "a pereira",
            "destino pereira",
            "hacia pereira",
            "hasta pereira",
            "para pereira"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_riohacha",
          "synonyms": [
            "a riohacha",
            "destino riohacha",
            "hacia riohacha",
            "hasta riohacha",
            "para riohacha"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_san andres",
          "synonyms": [
            "a san andres",
            "destino san andres",
            "hacia san andres",
            "hasta san andres",
            "para san andres"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_santa marta",
          "synonyms": [
            "a santa marta",
            "destino santa marta",
            "hacia santa marta",
            "hasta santa marta",
            "para santa marta"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_valledupar",
          "synonyms": [
            "a valledupar",
            "destino valledupar",
            "hacia valledupar",
            "hasta valledupar",
            "para valledupar"
          ]
        },
        {
          "type": "synonyms",
          "value": "to_yopal",
          "synonyms": [
            "a yopal",
            "destino yopal",
            "hacia yopal",
            "hasta yopal",
            "para yopal"
          ]
        }
      ]
    },
    {
      "entity": "ciudad_origen",
      "values": [
        {
          "type": "synonyms",
          "value": "bogota2",
          "synonyms": [
            "bogota",
            "de bogota",
            "desde bogota",
            "origen bogota",
            "saliendo de bogota",
            "saliendo desde bogota"
          ]
        },
        {
          "type": "synonyms",
          "value": "cartagena2",
          "synonyms": [
            "cartagena",
            "de cartagena",
            "desde cartagena",
            "origen cartagena",
            "saliendo de cartagena",
            "saliendo desde cartagena"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_barranquilla",
          "synonyms": [
            "barranquilla",
            "de barranquilla",
            "desde barranquilla",
            "origen barranquilla",
            "saliendo de barranquilla",
            "saliendo desde barranquilla"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_bucaramanga",
          "synonyms": [
            "bucaramanga",
            "de bucaramanga",
            "desde bucaramanga",
            "origen bucaramanga",
            "saliendo de bucaramanga",
            "saliendo desde bucaramanga"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_cali",
          "synonyms": [
            "cali",
            "de cali",
            "desde cali",
            "origen cali",
            "saliendo de cali",
            "saliendo desde cali"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_cucuta",
          "synonyms": [
            "cucuta",
            "de cucuta",
            "desde cucuta",
            "origen cucuta",
            "saliendo de cucuta",
            "saliendo desde cucuta"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_leticia",
          "synonyms": [
            "de leticia",
            "desde leticia",
            "leticia",
            "origen leticia",
            "saliendo de leticia",
            "saliendo desde leticia"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_medellin",
          "synonyms": [
            "de jose maria cordova",
            "de medellin",
            "desde jose maria cordova",
            "desde medellin",
            "jose maria cordova",
            "medellin",
            "origen jose maria cordova",
            "origen medellin",
            "saliendo de jose maria cordova",
            "saliendo de medellin",
            "saliendo desde jose maria cordova",
            "saliendo desde medellin"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_monteria",
          "synonyms": [
            "de monteria",
            "desde monteria",
            "monteria",
            "origen monteria",
            "saliendo de monteria",
            "saliendo desde monteria"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_pereira",
          "synonyms": [
            "de pereira",
            "desde pereira",
            "origen pereira",
            "pereira",
            "saliendo de pereira",
            "saliendo desde pereira"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_riohacha",
          "synonyms": [
            "de riohacha",
            "desde riohacha",
            "origen riohacha",
            "riohacha",
            "saliendo de riohacha",
            "saliendo desde riohacha"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_san andres",
          "synonyms": [
            "de san andres",
            "desde san andres",
            "origen san andres",
            "saliendo de san andres",
            "saliendo desde san andres",
            "san andres"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_santa marta",
          "synonyms": [
            "de santa marta",
            "desde santa marta",
            "origen santa marta",
            "saliendo de santa marta",
            "saliendo desde santa marta",
            "santa marta"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_valledupar",
          "synonyms": [
            "desde valledupar",
            "de valledupar",
            "origen valledupar",
            "saliendo desde valledupar",
            "saliendo de valledupar",
            "valledupar"
          ]
        },
        {
          "type": "synonyms",
          "value": "from_yopal",
          "synonyms": [
            "desde yopal",
            "de yopal",
            "origen yopal",
            "saliendo desde yopal",
            "saliendo de yopal",
            "yopal"
          ]
        }
      ]
    },
    {
      "entity": "fecha_ida",
      "values": [
        {
          "type": "synonyms",
          "value": "22-02",
          "synonyms": [
            "22/02",
            "22 de febrero",
            "22 febrero",
            "@sys-date"
          ]
        },
        {
          "type": "synonyms",
          "value": "22/02",
          "synonyms": [
            "22-02",
            "22 de febrero",
            "22 febrero",
            "@sys-date"
          ]
        },
        {
          "type": "synonyms",
          "value": "22 de febrero",
          "synonyms": [
            "22-02",
            "22/02",
            "22 febrero",
            "@sys-date"
          ]
        },
        {
          "type": "synonyms",
          "value": "22 febrero",
          "synonyms": [
            "22-02",
            "22/02",
            "22 de febrero",
            "@sys-date"
          ]
        },
        {
          "type": "synonyms",
          "value": "@sys-date",
          "synonyms": [
            "22-02",
            "22/02",
            "22 de febrero",
            "22 febrero",
            "@sys-date"
          ]
        }
      ],
      "fuzzy_match": true
    },
    {
      "entity": "fecha_vuelta",
      "values": [
        {
          "type": "synonyms",
          "value": "22-02",
          "synonyms": [
            "22/02",
            "22 de febrero",
            "22 febrero",
            "@sys-date"
          ]
        },
        {
          "type": "synonyms",
          "value": "22/02",
          "synonyms": [
            "22-02",
            "22 de febrero",
            "22 febrero",
            "@sys-date"
          ]
        },
        {
          "type": "synonyms",
          "value": "22 de febrero",
          "synonyms": [
            "22-02",
            "22/02",
            "22 febrero",
            "@sys-date"
          ]
        },
        {
          "type": "synonyms",
          "value": "22 febrero",
          "synonyms": [
            "22-02",
            "22/02",
            "22 de febrero",
            "@sys-date"
          ]
        },
        {
          "type": "synonyms",
          "value": "@sys-date",
          "synonyms": [
            "22-02",
            "22/02",
            "22 de febrero",
            "22 febrero",
            "@sys-date"
          ]
        }
      ]
    },
    {
      "entity": "info_contacto",
      "values": [
        {
          "type": "patterns",
          "value": "celular",
          "patterns": [
            "(\\d{3})-(\\d{3})-(\\d{4})"
          ]
        },
        {
          "type": "patterns",
          "value": "email",
          "patterns": [
            "\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\\b"
          ]
        }
      ],
      "fuzzy_match": true
    },
    {
      "entity": "sys-date",
      "values": []
    },
    {
      "entity": "sys-number",
      "values": []
    },
    {
      "entity": "sys-time",
      "values": []
    }
  ],
  "metadata": {
    "api_version": {
      "major_version": "v2",
      "minor_version": "2018-11-08"
    }
  },
  "dialog_nodes": [
    {
      "type": "standard",
      "title": "Empezar",
      "output": {
        "generic": [
          {
            "values": [
              {
                "text": "Hola, ¿a dónde quieres viajar?"
              },
              {
                "text": "Hola, ¿cómo puedo ayudarte el día de hoy?"
              },
              {
                "text": "Hola, ¿desde dónde quieres viajar?"
              }
            ],
            "response_type": "text",
            "selection_policy": "random"
          }
        ]
      },
      "metadata": {},
      "conditions": "welcome",
      "digress_in": "not_available",
      "dialog_node": "Bienvenido",
      "digress_out": "allow_all",
      "previous_sibling": "node_4_1559851667127"
    },
    {
      "type": "standard",
      "title": "No entendi",
      "output": {
        "generic": [
          {
            "values": [
              {
                "text": "No te he entendido. Intenta reformular tu búsqueda."
              },
              {
                "text": "¿Podrías decirlo con otras palabras? No te he entendido."
              }
            ],
            "response_type": "text",
            "selection_policy": "sequential"
          }
        ]
      },
      "metadata": {},
      "conditions": "anything_else",
      "dialog_node": "En otras cosas",
      "previous_sibling": "node_1_1562292438920"
    },
    {
      "type": "event_handler",
      "title": "handler_10_1558395900296",
      "output": {
        "text": "¿Cuándo viajarías? Especifica día y mes. Si es solo ida, escribe solo **una** fecha. Si es ida y vuelta escribe **dos** fechas."
      },
      "parent": "slot_8_1558395900296",
      "metadata": {},
      "event_name": "focus",
      "dialog_node": "handler_10_1558395900296"
    },
    {
      "type": "event_handler",
      "title": "handler_10_1562948121374",
      "output": {
        "text": {
          "values": [
            "Listo, vamos otra vez.",
            "Listo, reiniciando..."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_7_1562948113992",
      "context": {
        "fechaida": null,
        "pasajeros": null,
        "fechavuelta": null,
        "ciudadorigen": null,
        "ciudaddestino": null
      },
      "metadata": {},
      "conditions": "#no",
      "event_name": "filled",
      "dialog_node": "handler_10_1562948121374",
      "previous_sibling": "handler_12_1562960880697"
    },
    {
      "type": "event_handler",
      "title": "handler_10_1563387251770",
      "output": {
        "text": {
          "values": [
            "Necesito por lo menos un pasajero para hacer la búsqueda del precio.",
            "No especificaste el número de pasajeros, necesito por lo menos uno."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_1_1559842481639",
      "context": {
        "contador4": "<? context['contador4'] + 1 ?>"
      },
      "metadata": {},
      "conditions": "true",
      "event_name": "nomatch",
      "dialog_node": "handler_10_1563387251770",
      "previous_sibling": "handler_36_1563397379473"
    },
    {
      "type": "event_handler",
      "title": "handler_11_1562948121374",
      "output": {
        "text": {
          "values": [
            "Por favor, responde **SI** para buscar el precio que deseas, o **NO** si deseas cambiar la información.",
            "Por favor, si, si deseas buscar el precio de este vuelo escribe **SI**, sino escribe **NO**."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_7_1562948113992",
      "context": {
        "contador": "<? context['contador'] + 1 ?>"
      },
      "metadata": {},
      "conditions": "true",
      "event_name": "nomatch",
      "dialog_node": "handler_11_1562948121374",
      "previous_sibling": "handler_11_1562960667329"
    },
    {
      "type": "event_handler",
      "title": "handler_11_1562960667329",
      "output": {
        "text": {
          "values": [
            "Parece que tengo un problema para determinar tu respuesta. Haré la búsqueda con los datos mostrados.",
            "Estoy un poco confuso con tu respuesta. Haré la búsqueda del precio del vuelo usando los datos que te mostré."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_7_1562948113992",
      "metadata": {},
      "next_step": {
        "behavior": "skip_all_slots"
      },
      "conditions": "$contador > 1",
      "event_name": "nomatch",
      "dialog_node": "handler_11_1562960667329",
      "previous_sibling": "handler_10_1562948121374"
    },
    {
      "type": "event_handler",
      "title": "handler_12_1562960880697",
      "output": {
        "text": {
          "values": [
            "Listo, estamos buscando..."
          ]
        }
      },
      "parent": "slot_7_1562948113992",
      "metadata": {},
      "conditions": "#si",
      "event_name": "filled",
      "dialog_node": "handler_12_1562960880697",
      "previous_sibling": "handler_8_1562948113992"
    },
    {
      "type": "event_handler",
      "title": "handler_13_1562962052827",
      "output": {
        "text": {
          "values": [
            "De acuerdo, acabaremos aquí. No se realizará ninguna búsqueda.",
            "Listo, no continuaremos.",
            "No hay problema, acá paramos."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "node_1_1557972849749",
      "context": {
        "fechaida": null,
        "pasajeros": null,
        "fechavuelta": null,
        "ciudadorigen": null,
        "ciudaddestino": null
      },
      "metadata": {},
      "next_step": {
        "behavior": "skip_all_slots"
      },
      "conditions": "#cancelar",
      "event_name": "generic",
      "dialog_node": "handler_13_1562962052827"
    },
    {
      "type": "event_handler",
      "title": "handler_14_1563320405661",
      "output": {
        "text": {
          "values": [
            "Disculpa, solo podemos cotizar vuelos para fechas **ANTES** del 31 de enero de 2020. Para fechas posteriores, debemos ver la disponibilidad en las aerolíneas.",
            "No podemos cotizar para fechas **DESPUES** del 31 de enero de 2020. Para fechas posteriores debemos ver la disponibilidad en las aerolíneas."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_8_1558395900296",
      "metadata": {},
      "next_step": {
        "behavior": "reprompt"
      },
      "conditions": "$fechaida.after(\"2020-01-31\")",
      "event_name": "filled",
      "dialog_node": "handler_14_1563320405661",
      "previous_sibling": "handler_19_1558396736821"
    },
    {
      "type": "event_handler",
      "title": "handler_15_1558395923674",
      "output": {
        "text": {
          "values": [
            "O no dispongo de vuelos desde esa ciudad o no la reconozco. Prueba escribiendo **origen** ciudad (por ejemplo: **origen** Cartagena).",
            "No reconozco la ciudad desde la que quieres viajar o no dispongo de vuelos desde esa ciudad. Prueba escribiendo **origen** ciudad (por ejemplo: **origen** Cartagena)."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_1_1558393541779",
      "context": {
        "contador2": "<? context['contador2'] + 1 ?>"
      },
      "metadata": {},
      "conditions": "true",
      "event_name": "nomatch",
      "dialog_node": "handler_15_1558395923674",
      "previous_sibling": "handler_23_1563395663940"
    },
    {
      "type": "event_handler",
      "title": "handler_16_1563394924636",
      "output": {
        "text": {
          "values": [
            "Disculpa, no tengo vuelos hacia esa ciudad.",
            "Disculpa, por el momento no vendo pasajes para esa ciudad."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_3_1558112944835",
      "metadata": {},
      "next_step": {
        "behavior": "skip_all_slots"
      },
      "conditions": "$contador1 > 1",
      "event_name": "nomatch",
      "dialog_node": "handler_16_1563394924636",
      "previous_sibling": "handler_4_1558112944835"
    },
    {
      "type": "event_handler",
      "title": "handler_19_1558396736821",
      "output": {
        "text": {
          "values": [
            "Tu fecha de salida es anterior al día de hoy. No podemos realizar la búsqueda.",
            "No se puede realizar la búsqueda, tu fecha de salida es anterior al día de hoy."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_8_1558395900296",
      "metadata": {},
      "next_step": {
        "behavior": "reprompt"
      },
      "conditions": "$fechaida.before(today())",
      "event_name": "filled",
      "dialog_node": "handler_19_1558396736821",
      "previous_sibling": "handler_9_1558395900296"
    },
    {
      "type": "event_handler",
      "title": "handler_20_1558396736821",
      "output": {
        "text": {
          "values": [
            "Escribe la fecha de tu viaje incluyendo el mes.",
            "Escribe la fecha de tu viaje con día y mes."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_8_1558395900296",
      "context": {
        "contador3": "<? context['contador3'] + 1 ?>"
      },
      "metadata": {},
      "conditions": "true",
      "event_name": "nomatch",
      "dialog_node": "handler_20_1558396736821",
      "previous_sibling": "handler_34_1563396506920"
    },
    {
      "type": "event_handler",
      "title": "handler_2_1558112944820",
      "output": {
        "text": {
          "values": [
            "Para poderte responder, necesito información sobre tu viaje. Por favor escribe ciudad de destino, ciudad de origen y fecha(s) del viaje."
          ],
          "selection_policy": "sequential"
        }
      },
      "parent": "node_1_1557972849749",
      "metadata": {},
      "event_name": "focus",
      "dialog_node": "handler_2_1558112944820",
      "previous_sibling": "handler_13_1562962052827"
    },
    {
      "type": "event_handler",
      "title": "handler_2_1558393541779",
      "output": {},
      "parent": "slot_1_1558393541779",
      "context": {
        "ciudadorigen": "@ciudad_origen"
      },
      "metadata": {},
      "conditions": "@ciudad_origen",
      "event_name": "input",
      "dialog_node": "handler_2_1558393541779",
      "previous_sibling": "handler_3_1558393541779"
    },
    {
      "type": "event_handler",
      "title": "handler_2_1559842481639",
      "output": {},
      "parent": "slot_1_1559842481639",
      "context": {
        "pasajeros": "@sys-number",
        "temporal1": "(@sys-number || @sys-number:0) && slot_in_focus"
      },
      "metadata": {},
      "conditions": "(@sys-number || @sys-number:0) && slot_in_focus",
      "event_name": "input",
      "dialog_node": "handler_2_1559842481639",
      "previous_sibling": "handler_3_1559842481639"
    },
    {
      "type": "event_handler",
      "title": "handler_23_1563395663940",
      "output": {
        "text": {
          "values": [
            "Disculpa, no tengo vuelos saliendo de esa ciudad.",
            "Disculpa, por el momento no vendo pasajes saliendo de esa ciudad."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_1_1558393541779",
      "metadata": {},
      "next_step": {
        "behavior": "skip_all_slots"
      },
      "conditions": "$contador2 > 1",
      "event_name": "nomatch",
      "dialog_node": "handler_23_1563395663940",
      "previous_sibling": "handler_2_1558393541779"
    },
    {
      "type": "event_handler",
      "title": "handler_3_1558393541779",
      "output": {
        "text": "¿Desde cuál ciudad quieres viajar? Escribe, **origen** ciudad (por ejemplo: **origen** Bogotá)"
      },
      "parent": "slot_1_1558393541779",
      "metadata": {},
      "event_name": "focus",
      "dialog_node": "handler_3_1558393541779"
    },
    {
      "type": "event_handler",
      "title": "handler_3_1559842481639",
      "output": {
        "text": "¿Cuántas personas viajan? Específica solamente el número de personas mayores de 2 años. Los bebés viajan gratis."
      },
      "parent": "slot_1_1559842481639",
      "metadata": {},
      "event_name": "focus",
      "dialog_node": "handler_3_1559842481639"
    },
    {
      "type": "event_handler",
      "title": "handler_3_1562957539913",
      "output": {
        "text": {
          "values": [
            "Debe haber por lo menos un pasajero para poder determinar el precio del vuelo.",
            "Para realizar la búsqueda debes colocar por lo menos un pasajero.",
            "Tienes que colocar el número de pasajeros. Si solo deseas saber el precio escribe solo un pasajero.",
            "No se puede realizar la búsqueda con 0 pasajeros. Debes colocar por lo menos un pasajero.",
            "Especifique un número mayor que cero"
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_1_1559842481639",
      "metadata": {},
      "next_step": {
        "behavior": "reprompt"
      },
      "conditions": "entities['sys-number']?.value == 0",
      "event_name": "filled",
      "dialog_node": "handler_3_1562957539913",
      "previous_sibling": "handler_2_1559842481639"
    },
    {
      "type": "event_handler",
      "title": "handler_34_1563396506920",
      "output": {
        "text": {
          "values": [
            "Voy a tomar la fecha de **hoy** para hacer la búsqueda, no reconozco la fecha que quieres viajar.",
            "No entiendo la fecha que quieres viajar, voy a tomar la fecha de **hoy** para buscar el precio del pasaje."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_8_1558395900296",
      "context": {
        "fechaida": "today()",
        "fechavuelta": 0
      },
      "metadata": {},
      "next_step": {
        "behavior": "skip_slot"
      },
      "conditions": "$contador3 > 1",
      "event_name": "nomatch",
      "dialog_node": "handler_34_1563396506920",
      "previous_sibling": "handler_14_1563320405661"
    },
    {
      "type": "event_handler",
      "title": "handler_36_1563397379473",
      "output": {
        "text": {
          "values": [
            "No entiendo cuantas personas viajan, haré la búsqueda con **un pasajero**.",
            "Colocaré **un pasajero** para hacer la búsqueda del precio, no entiendo cuantas personas viajan."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_1_1559842481639",
      "context": {
        "pasajeros": 1
      },
      "metadata": {},
      "next_step": {
        "behavior": "skip_slot"
      },
      "conditions": "$contador4 > 1",
      "event_name": "nomatch",
      "dialog_node": "handler_36_1563397379473",
      "previous_sibling": "handler_5_1562957763479"
    },
    {
      "type": "event_handler",
      "title": "handler_4_1558112944835",
      "output": {},
      "parent": "slot_3_1558112944835",
      "context": {
        "ciudaddestino": "@ciudad_destino"
      },
      "metadata": {},
      "conditions": "@ciudad_destino",
      "event_name": "input",
      "dialog_node": "handler_4_1558112944835",
      "previous_sibling": "handler_5_1558112944835"
    },
    {
      "type": "event_handler",
      "title": "handler_5_1558112944835",
      "output": {
        "text": "¿A cuál ciudad quieres viajar? Escribe, **destino** ciudad (por ejemplo: **destino** Cartagena)"
      },
      "parent": "slot_3_1558112944835",
      "metadata": {},
      "event_name": "focus",
      "dialog_node": "handler_5_1558112944835"
    },
    {
      "type": "event_handler",
      "title": "handler_5_1562957763479",
      "output": {
        "text": {
          "values": [
            "Para un viaje de grupo (10 o más personas) solicitamos por los menos 24 horas para dar una cotización.",
            "Cuando son 10 o más personas, requerimos de 24 horas máximo para cotizar el precio.",
            "Necesitamos un máximo de 24 horas para enviarte una cotización, los viajes de grupo tienen unas condiciones diferentes."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_1_1559842481639",
      "metadata": {},
      "next_step": {
        "behavior": "skip_all_slots"
      },
      "conditions": "entities['sys-number']?.value > 9",
      "event_name": "filled",
      "dialog_node": "handler_5_1562957763479",
      "previous_sibling": "handler_3_1562957539913"
    },
    {
      "type": "event_handler",
      "title": "handler_7_1558395801740",
      "output": {
        "text": {
          "values": [
            "No reconozco la ciudad a la que quieres viajar o no dispongo de vuelos para esa ciudad. Prueba escribiendo **destino** ciudad (por ejemplo: **destino** Cartagena).",
            "O no dispongo de vuelos para esa ciudad o no la reconozco. Prueba escribiendo **destino** ciudad (por ejemplo: **destino** Cartagena)."
          ],
          "selection_policy": "random"
        }
      },
      "parent": "slot_3_1558112944835",
      "context": {
        "contador1": "<? context['contador1'] + 1 ?>"
      },
      "metadata": {},
      "conditions": "true",
      "event_name": "nomatch",
      "dialog_node": "handler_7_1558395801740",
      "previous_sibling": "handler_16_1563394924636"
    },
    {
      "type": "event_handler",
      "title": "handler_8_1562948113992",
      "output": {},
      "parent": "slot_7_1562948113992",
      "context": {
        "temporal2": "(#si || #no) && slot_in_focus"
      },
      "metadata": {},
      "conditions": "(#si || #no) && slot_in_focus",
      "event_name": "input",
      "dialog_node": "handler_8_1562948113992",
      "previous_sibling": "handler_9_1562948113992"
    },
    {
      "type": "event_handler",
      "title": "handler_9_1558395900296",
      "output": {},
      "parent": "slot_8_1558395900296",
      "context": {
        "fechas": "@sys-date.values",
        "fechaida": "<? $fechas.append('0').get(0) ?>",
        "fechavuelta": "<? $fechas.append('0').get(1).before($fechaida) ? $fechas.append('0').get(1).plusDays(7) : $fechas.append('0').get(1) ?>"
      },
      "metadata": {},
      "conditions": "@sys-date.values",
      "event_name": "input",
      "dialog_node": "handler_9_1558395900296",
      "previous_sibling": "handler_10_1558395900296"
    },
    {
      "type": "event_handler",
      "title": "handler_9_1562948113992",
      "output": {
        "text": "¿Quieres viajar desde $ciudadorigen para $ciudaddestino, $fechaida - $fechavuelta? Por favor, confirmame si es así."
      },
      "parent": "slot_7_1562948113992",
      "metadata": {},
      "event_name": "focus",
      "dialog_node": "handler_9_1562948113992"
    },
    {
      "type": "frame",
      "title": "Datos del Viaje",
      "output": {},
      "parent": "node_26_1563325906060",
      "metadata": {
        "fallback": "leave",
        "_customization": {
          "mcr": true
        }
      },
      "conditions": "#viaje",
      "dialog_node": "node_1_1557972849749",
      "digress_out": "allow_all_never_return",
      "digress_out_slots": "allow_returning"
    },
    {
      "type": "response_condition",
      "output": {
        "generic": [
          {
            "values": [
              {
                "text": "$temporal2 Ida $fechaida, vuelta $fechavuelta. $pasajeros"
              }
            ],
            "response_type": "text",
            "selection_policy": "sequential"
          }
        ]
      },
      "parent": "node_1_1557972849749",
      "metadata": {},
      "conditions": "#si",
      "dialog_node": "node_1_1558112906522",
      "previous_sibling": "node_15_1562962315792"
    },
    {
      "type": "standard",
      "title": "Ubicación de la Agencia",
      "output": {
        "generic": [
          {
            "values": [
              {
                "text": "No tenemos un local físico."
              },
              {
                "text": "Pero, usando internet puedes comprar con nosotros desde cualquier lugar."
              }
            ],
            "response_type": "text",
            "selection_policy": "multiline"
          },
          {
            "time": 200,
            "typing": true,
            "response_type": "pause"
          },
          {
            "values": [
              {
                "text": "Aceptamos pagos en efectivo, PSE, transferencia bancaria o tarjeta crédito."
              }
            ],
            "response_type": "text",
            "selection_policy": "sequential"
          },
          {
            "title": "Hola",
            "options": [
              {
                "label": "Sigo sin entender",
                "value": {
                  "input": {
                    "text": "puede ser"
                  }
                }
              },
              {
                "label": "ahora si quede",
                "value": {
                  "input": {
                    "text": "umm"
                  }
                }
              }
            ],
            "description": "será?",
            "response_type": "option"
          }
        ]
      },
      "metadata": {},
      "conditions": "#ubicacion",
      "digress_in": "returns",
      "dialog_node": "node_1_1562292438920",
      "digress_out": "allow_all",
      "previous_sibling": "node_26_1563325906060"
    },
    {
      "type": "response_condition",
      "output": {
        "generic": [
          {
            "values": [
              {
                "text": "Gracias por interactuar conmigo. Siempre atento a cualquier duda adicional que tengas."
              }
            ],
            "response_type": "text",
            "selection_policy": "sequential"
          }
        ]
      },
      "parent": "node_1_1557972849749",
      "metadata": {},
      "conditions": "has_skipped_slots",
      "dialog_node": "node_15_1562962315792",
      "previous_sibling": "slot_7_1562948113992"
    },
    {
      "type": "standard",
      "title": "Restablece las Variables",
      "output": {
        "generic": [
          {
            "values": [],
            "response_type": "text",
            "selection_policy": "sequential"
          }
        ]
      },
      "context": {
        "contador": 0,
        "fechaida": null,
        "temporal": null,
        "contador1": 0,
        "contador2": 0,
        "contador3": 0,
        "contador4": 0,
        "pasajeros": null,
        "fechavuelta": null,
        "ciudadorigen": null,
        "ciudaddestino": null,
        "confirmarbusqueda": null
      },
      "metadata": {},
      "next_step": {
        "behavior": "skip_user_input"
      },
      "conditions": "#viaje",
      "digress_in": "returns",
      "dialog_node": "node_26_1563325906060",
      "digress_out": "allow_all",
      "previous_sibling": "Bienvenido"
    },
    {
      "type": "standard",
      "title": "Inicio de la conversacion",
      "output": {
        "generic": []
      },
      "metadata": {},
      "next_step": {
        "behavior": "jump_to",
        "selector": "condition",
        "dialog_node": "Bienvenido"
      },
      "conditions": "conversation_start",
      "digress_in": "not_available",
      "dialog_node": "node_4_1559851667127",
      "digress_out": "allow_all"
    },
    {
      "type": "slot",
      "title": "slot_1_1558393541779",
      "output": {},
      "parent": "node_1_1557972849749",
      "metadata": {
        "_customization": {
          "mcr": true
        }
      },
      "variable": "$ciudadorigen",
      "dialog_node": "slot_1_1558393541779",
      "previous_sibling": "slot_3_1558112944835"
    },
    {
      "type": "slot",
      "title": "slot_1_1559842481639",
      "output": {},
      "parent": "node_1_1557972849749",
      "metadata": {
        "_customization": {
          "mcr": true
        }
      },
      "variable": "$temporal1",
      "dialog_node": "slot_1_1559842481639",
      "previous_sibling": "slot_8_1558395900296"
    },
    {
      "type": "slot",
      "title": "slot_3_1558112944835",
      "output": {},
      "parent": "node_1_1557972849749",
      "metadata": {
        "_customization": {
          "mcr": true
        }
      },
      "variable": "$ciudaddestino",
      "dialog_node": "slot_3_1558112944835",
      "previous_sibling": "handler_2_1558112944820"
    },
    {
      "type": "slot",
      "title": "slot_7_1562948113992",
      "output": {},
      "parent": "node_1_1557972849749",
      "metadata": {
        "_customization": {
          "mcr": true
        }
      },
      "variable": "$temporal2",
      "dialog_node": "slot_7_1562948113992",
      "previous_sibling": "slot_1_1559842481639"
    },
    {
      "type": "slot",
      "title": "slot_8_1558395900296",
      "output": {},
      "parent": "node_1_1557972849749",
      "metadata": {
        "_customization": {
          "mcr": true
        }
      },
      "variable": "$fechas",
      "dialog_node": "slot_8_1558395900296",
      "previous_sibling": "slot_1_1558393541779"
    }
  ],
  "counterexamples": [
    {
      "text": "desde medellin"
    },
    {
      "text": "desde yopal"
    },
    {
      "text": "el domingo"
    }
  ],
  "system_settings": {
    "tooling": {
      "store_generic_responses": true
    }
  },
  "learning_opt_out": false,
  "name": "Experiencias-001 copy",
  "language": "es",
  "description": ""
}